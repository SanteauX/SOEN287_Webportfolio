
@app.route('/signup', methods=['GET', 'POST'])
def signup():
    form = RegisterForm()
    if form.validate_on_submit():
        if(register_user(form.username.data, form.email.data, form.password.data)):
            return render_template("formResponse.html",
                                    title="Signed up",
                                    bodyTitle="Welcome "+form.username.data,
                                    link="/home",
                                    page="home")
        else:
            return render_template("formResponse.html",
                                    title="Registration Error",
                                    bodyTitle="Sorry, this email or username already exists ",
                                    link="/signup",
                                    page="registration")
    return render_template("signup.html", form=form)


@app.route('/login', methods=['GET', 'POST'])
def login():
    form = LoginForm()
    if form.validate_on_submit():
        user = find_user(form.username.data)
        if user and bcrypt.checkpw(form.password.data.encode(), user.password.encode()):
            login_user(user)
            return render_template("formResponse.html",
                                    title="Logged in",
                                    bodyTitle="Welcome "+form.username.data,
                                    link="/home",
                                    page="home")
        else:
            return render_template("formResponse.html",
                                    title="Login Error",
                                    bodyTitle="Wrong username or password",
                                    link="/login",
                                    page="login")
    return render_template("login.html", form=form)
